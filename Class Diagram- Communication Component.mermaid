classDiagram
    Conversation "1" -- "*" Message : contains
    
    class Conversation {
        +conversationId : int
        +user1Id : int
        +user2Id : int
        +itemId : int
        +lastMsgDate : datetime
        +status : string
        +startConversation(user1Id, user2Id, itemId) : Conversation
        +getConversationById(conversationId) : Conversation
        +getConversationsByUserId(userId) : Conversation[]
        +markAsInactive(conversationId) : boolean
    }
    
    class Message {
        +messageId : int
        +conversationId : int
        +senderId : int
        +content : string
        +sentAt : datetime
        +isRead : boolean
        +sendMessage(conversationId, senderId, content) : Message
        +getMessages(conversationId) : Message[]
        +markAsRead(messageId) : boolean
        +getUnreadMessageCount(userId) : int
    }
    
    class Notification {
        +notificationId : int
        +userId : int
        +type : string
        +content : string
        +isRead : boolean
        +createdAt : datetime
        +sendNotification(userId, type, content) : Notification
        +getNotificationsByUserId(userId) : Notification[]
        +markAsRead(notificationId) : boolean
        +getUnreadNotificationCount(userId) : int
    }
